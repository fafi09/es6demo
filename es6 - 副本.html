<html>
	<head>
		<title>test</title>

		<script type="text/javascript">
			
			document.onkeydown=function(){
				var e = window.event||arguments[0];
				window.console.log(e);
				if(e.keyCode == 123){//防止F12
						return false;
				}else if((e.ctrlKey)&&(e.shiftKey)&&(e.keyCode == 73)){//查看源代码快捷键
						return false;
				}else if((e.ctrlKey)&&(e.keyCode==85)){//查看源代码快捷键
						return false;
				}else if((e.ctrlKey)&&(e.keyCode==83)){//保持网页快捷键
					   return false;
				}
			}
			document.oncontextmenu=function(){//监听鼠标右键
				return false;
			}


			var ConsoleManager={
            onOpen:function(){
                alert("Console is opened")
            },
            onClose:function(){
                alert("Console is closed")
            },
            init:function(){
                var self = this;
                var x = document.createElement('div');
                var isOpening = false,isOpened=false;
                Object.defineProperty(x, 'id', {
                    get:function(){
                        if(!isOpening){
                            self.onOpen();
                            isOpening=true;
                        }
                        isOpened=true;
                    }
                });
                setInterval(function(){
                    isOpened=false;
                    console.info(x);
                    console.clear();
                    if(!isOpened && isOpening){
                        self.onClose();
                        isOpening=false;
                    }
                },200)
            }
        }

        ConsoleManager.onOpen = function(){
            //打开控制台，跳转到百度
            try{
                window.open('https://www.baidu.com/',target='_self');
            }catch(err){
                var a = document.createElement("button");
                    a.onclick=function(){
                    window.open('https://www.baidu.com',target='_self');
                }
                a.click();  
            }
        }
        ConsoleManager.onClose = function(){
            alert("Console is closed!!!!!")
        }
        ConsoleManager.init();
			
			
			
			
			//禁用右键（防止右键查看源代码） 
    window.oncontextmenu=function(){return false;} 
    //禁止任何键盘敲击事件（防止F12和shift+ctrl+i调起开发者工具） 
    window.onkeydown = window.onkeyup = window.onkeypress = function () { 
        window.event.returnValue = false; 
        return false; 
    } 
    //如果用户在工具栏调起开发者工具，那么判断浏览器的可视高度和可视宽度是否有改变，如有改变则关闭本页面 
    var h = window.innerHeight,w=window.innerWidth; 
    window.onresize = function () { 
        if (h!= window.innerHeight||w!=window.innerWidth){ 
            window.close(); 
            window.location = "about:blank"; 
        } 
    } 
    /*好吧，你的开发者工具是单独的窗口显示，不会改变原来网页的高度和宽度， 但是你只要修改页面元素我就重新加载一次数据,让你无法修改页面元素（不支持IE9以下浏览器）*/ 
    if(window.addEventListener){ 
        window.addEventListener("DOMCharacterDataModified", function(){window.location.reload();}, true); 
        window.addEventListener("DOMAttributeNameChanged", function(){window.location.reload();}, true); 
        window.addEventListener("DOMCharacterDataModified", function(){window.location.reload();}, true); 
        window.addEventListener("DOMElementNameChanged", function(){window.location.reload();}, true); 
        window.addEventListener("DOMNodeInserted", function(){window.location.reload();}, true); 
        window.addEventListener("DOMNodeInsertedIntoDocument", function(){window.location.reload();}, true); 
        window.addEventListener("DOMNodeRemoved", function(){window.location.reload();}, true); 
        window.addEventListener("DOMNodeRemovedFromDocument", function(){window.location.reload();}, true); 
        window.addEventListener("DOMSubtreeModified", function(){window.location.reload();}, true); 
    } 
    
			   var _z = console; 
 Object.defineProperty(window,"console",{
 get:function(){if(_z._commandLineAPI){throw "Script execution not permitted"} return _z;},
 set:function(val){_z = val}
});  
			function test33() {
				alert('343');
			}
		
		
		</script>

	</head>
	<body>
		<input type="button" value="test" onclick="test33();" />
		<div id="nodes"/>
	</body>
</html>