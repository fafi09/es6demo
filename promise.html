<html>
<head>
	<script>


	const promise = new Promise(function (resolve, reject) {
  resolve('ok');
  setTimeout(function () { throw new Error('test') }, 0)
});
promise.then(function (value) { console.log(value) })
.catch(function(error) {console.log(error)} );
	
	
let p =		new Promise(
  function (resolve, reject) {
    // 一段耗时的异步操作
    //resolve('成功') // 数据处理完成
     reject('失败') // 数据处理出错
  }
).then(
  (res) => {console.log('++++'+res)},  // 成功
  (err) => {console.log('----'+err)} // 失败
)

console.log(p);

function* genUtils() {
	console.log('genUtils start');
	yield '1';
	console.log('genUtils continue');
	let re = yield '2';
	console.log('genUtils end'+re);
}

let gen = genUtils();
let phrase = gen.next();
console.log(phrase);
phrase = gen.next();
console.log(phrase);
gen.next('===');

function getData_1 () {
    return '100'
}

function getData_2 () {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve('200')
        }, 2000)
    })
}

async function asyncRun() {
	console.log('---asyncRun start----');
	await getData_1();
	console.log('---asyncRun continue----');
	let result = await getData_2();
	console.log('---asyncRun end----'+result);
}

asyncRun();
	</script>
</head>

<body>
	
</body>
</html>